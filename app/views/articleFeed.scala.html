@import dto.ArticleFeedPage
@import java.util.Locale
@(articleFeedPage: ArticleFeedPage)(implicit request: Request[Any])
@main("Article Feed") {

  @* Article Feed *@
  @{
    articleFeedPage.articles.map {
      case (article, user) => {
        <div class="card mt-2">
          <div class="card-header">
            <a href="#">{user.username}</a> on {article.createdOn.get.toString("dd. MMM yyyy ' at ' k:m:ss", Locale.ENGLISH)}
          </div>
          <div class="card-body">
            <p class="card-text">{article.body.getOrElse("")}</p>
          </div>
          <div class="card-footer text-muted">
            <a href={s"/article/${article.articleId}"} class="badge badge-light">Comments</a>
          </div>
        </div>
      }
    }
  }

  @* Pagination *@
  <nav class="mt-3">
    <ul class="pagination justify-content-center">
      <li class="page-item @if(articleFeedPage.currentPage == 1){disabled} ">
        <a class="page-link" href="@{articleFeedPage.currentPage - 1}">Previous</a>
      </li>
      @for(i <- 1 to articleFeedPage.totalPages) {
        <li class="page-item @if(i == articleFeedPage.currentPage){active} ">
          <a class="page-link" href="@{i}">
            @{i}
          </a>
        </li>
      }
      <li class="page-item @if(articleFeedPage.currentPage == articleFeedPage.totalPages){disabled}">
        <a class="page-link" href="@{articleFeedPage.currentPage + 1}">Next</a>
      </li>
    </ul>
  </nav>
}
